<!DOCTYPE html>

<html>
	
<head>
  <title>ESP8266 Web Server</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	
	<div>
	  <h1>ESP8266 Web Server</h1>
	  <p>GPIO state<strong> %STATE%</strong></p>
	  <p>
      <a href="/on"><button class="button">ON</button></a>
      <a href="/off"><button class="button button2">OFF</button></a>
	  </p>
	  <p>
      <span class="sensor-labels">JAM:</span>
      <span id="jam">%JAM%</span>
      <!-- <sup class="units">&deg;C</sup> -->
	  </p>
	  <p>
      <span class="sensor-labels">TANGGAL:</span>
      <span id="tanggal">%TANGGAL%</span>
      <!-- <sup class="units">&#37;</sup> -->
	  </p>
	  <p>
      <span class="sensor-labels">HARI:</span>
      <span id="hari">%HARI%</span>
      <!-- <sup class="units">hPa</sup> -->
	  </p>
	 </div>
	 <div>
		<h3> Form setting ds3231 dengan ESP8266</h3>
    <!-- <p>tahun, bulan, tanggal, jam, menit dan hari <br> 
      (hari diisi 0 - 6 mulai dari minggu - sabtu)</p> -->
		<form action="/get" >
			<div id="formku">
        <label for="name">Masukkan Tahun:</label>  
				<input type="number" id="name" name="nama" > 
        <label for="bulan">Masukkan Bulan:</label> 
        <input type="number" id="bulan" name="bulan" > 
        <label for="tanggal">Masukkan Tanggal:</label> 
        <input type="number" id="tanggal" name="tanggal" > 
        <label for="jam">Masukkan Jam:</label> 
        <input type="number" id="jam" name="jam" > 
        <label for="menit">Masukkan Menit:</label> 
        <input type="number" id="menit"name="menit" > 
        
        <label for="hari">Masukkan Hari:</label> 
        <select id="hari" name="hari">
          <option value="Minggu">Minggu</option>
          <option value="Senin">Senin</option>
          <option value="Selasa">Selasa</option>
          <option value="Rabu">Rabu</option>
          <option value="Kamis">Kamis</option>
          <option value="Jumat">Jumat</option>
          <option value="Sabtu">Sabtu</option>
        </select>

        <!-- <input type="number" id="hari" name="hari" >  -->
        
				<input type="submit" value="Kirim!" >
			</div>
			
		</form> 

	 </div>
</body>

<script>
	
  setInterval(function ( ) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("jam").innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", "/jam", true);
    xhttp.send();
  }, 1000 ) ;

  setInterval(function ( ) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("tanggal").innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", "/tanggal", true);
    xhttp.send();
  }, 9000 ) ;

  setInterval(function ( ) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("hari").innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", "/hari", true);
    xhttp.send();
  }, 9000 ) ;
  
</script>
</html>
